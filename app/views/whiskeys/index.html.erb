<% set_meta_tags title: 'ウイスキーを探す' %>
<div class="container mt-5 pt-5">
  <div class="row justify-content-center">
    <h1 class="col-auto text-muted text-center fw-bold">
      <em class="fs-3 fw-lighter">- Whiskeys -</em><br>
      ウイスキー一覧
    </h1>
  </div>

  <div class="row justify-content-center mt-5 mb-4">
    <%= search_form_for @q, url: whiskeys_path, class: 'col-auto' do |f| %>
      <div class="input-group">
        <%= f.text_field :name_or_description_cont, class: 'form-control-lg border-0 rounded-left search-width', placeholder: 'ウイスキー名を入力' %>
        <%= button_tag type: :submit, class: "btn bg-white rounded-right" do %>
          <i class="fa-solid fa-magnifying-glass fa-xl hover-target-reverse f-navy"></i>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="row justify-content-center mb-5">
    <%= link_to '　細かい条件で検索　', new_search_path, class: "fs-5 ui icon button rounded-pill col-auto bg-d-cream hover-target" %>
  </div>

  <div class="row justify-content-center mt-5">
    <%= render 'shared/link_to_index', path: drink_ways_path, text: '&#129347; 飲み方' %>
    <%= render 'shared/link_to_index', path: snacks_path, text: '&#129372; おつまみ' %>
    <%= render 'shared/link_to_index', path: flavors_path, text: '&#127822; フレーバー' %>
  </div>
</div>


<div class="container pt-5">
  <div class='row justify-content-end mb-3'>
    <div class="field col-auto my-auto">
      <select class="form-select rounded-3" onChange="location.href=value;">
        <option value="">並び替え</option>
        <option value="<%= sort_by_sort_url(sort_url(@q, :updated_at), 'updated_at+desc') %>">新着順</option>
        <option value="<%= sort_by_sort_url(sort_url(@q, :price), 'price+desc') %>">価格の高い順</option>
        <option value="<%= sort_by_sort_url(sort_url(@q, :price), 'price+asc') %>">価格の安い順</option>
        <option value="<%= sort_by_sort_url(sort_url(@q, :rarity), 'rarity+desc') %>">入手のし易さ：安定供給</option>
        <option value="<%= sort_by_sort_url(sort_url(@q, :rarity), 'rarity+asc') %>">入手のし易さ：激レア</option>
        <option value="<%= sort_by_sort_url(sort_url(@q, :updated_at), 'mouth_feel+asc') %>">口当たり：軽い順</option>
        <option value="<%= sort_by_sort_url(sort_url(@q, :updated_at), 'mouth_feel+desc') %>">口当たり：重い順</option>
        <option value="<%= sort_by_sort_url(sort_url(@q, :updated_at), 'flavor_strength+asc') %>">香りの強さ：繊細な順</option>
        <option value="<%= sort_by_sort_url(sort_url(@q, :updated_at), 'flavor_strength+desc') %>">香りの強さ：濃厚な順</option>
      </select>
    </div>
  </div>

  <% if @searched_whiskeys.blank? %>
    <div class="row mb-2 justify-content-center">
      <div class="col-auto">
        Sorry…条件に合うウイスキーは見つかりませんでした.
      </div>
    </div>
  <% else %>
    <div class="row mb-2 gx-5 gy-4 justify-content-center">
      <%= render @searched_whiskeys %>
    </div>
  <% end %>
</div>

<div class="py-5">
  <div class='container'>
    <div class='row mb-5 justify-content-center'>
      <div class="col-auto">
        <%== pagy_semantic_nav(@pagy) %>
      </div>
    </div>
  </div>
</div>